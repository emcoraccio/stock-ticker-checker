(this["webpackJsonpticker-checker"]=this["webpackJsonpticker-checker"]||[]).push([[0],{131:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(17),o=a.n(r),s=(a(35),a(24)),l=a.n(s),i=a(56),u=a(15),p=a(14),m=a(13),d=a(48),k=a(49),f=a(58),b=a(11),h={stocks:[],loading:!0,error:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STOCKS":return Object(b.a)({},e,{stocks:t.payload.map((function(e){var t=0,a=e.pastStats.length-2;return a>=0&&(t=e.price-e.pastStats[a].price),Object(b.a)({},e,{stockTrend:t})})),loading:!1});case"STOCKS_ERROR":return Object(b.a)({},e,{error:t.payload});case"ADD_STOCK":return Object(b.a)({},e,{stocks:[Object(b.a)({},t.payload,{stockTrend:0,current:!0})].concat(Object(f.a)(e.stocks))});case"UPDATE_STOCK":return Object(b.a)({},e,{stocks:e.stocks.map((function(e){var a=t.payload.price-e.price;return console.log(a),e.symbol===t.payload.symbol?Object(b.a)({},e,{price:t.payload.price,current:!0,stockTrend:a}):Object(b.a)({},e,{current:!1})}))});case"REMOVE_STOCK":return Object(b.a)({},e,{stocks:e.stocks.filter((function(e){if(e._id!==t.id)return e}))});default:return e}},g=Object(m.combineReducers)({stock:E}),v=[k.a],y=Object(m.createStore)(g,{},Object(d.composeWithDevTools)(m.applyMiddleware.apply(void 0,v))),S=a(50),O=a(51),T=a(59),j=a(52),x=a(60),C=a(33),N=a(19),_=a.n(N),w=a(30),R=a(20),D=a.n(R),K={getStockPrice:function(e){return D.a.get("https://api.iextrading.com/1.0/tops/last?symbols=".concat(e))},getStocks:function(){return D.a.get("api/stocks")},addStock:function(e){return D.a.post("api/stocks",e)},removeStock:function(e){return D.a.put("api/stocks/".concat(e))}},P=a(4),I=(a(131),Object(p.b)((function(e){return{stock:e.stock}}),{addStock:function(e){return{type:"ADD_STOCK",payload:e}},updateStock:function(e){return{type:"UPDATE_STOCK",payload:e}}})((function(e){var t=e.stock.stocks,a=e.addStock,r=e.updateStock,o=Object(c.useState)(""),s=Object(C.a)(o,2),i=s[0],u=s[1],p=Object(c.useState)(!1),m=Object(C.a)(p,2),d=m[0],k=m[1],f=function(e,t){K.addStock(e).then((function(e){u(""),"add"===t?(console.log("creating new stock"),a(e.data)):(console.log("Updating stock"),r(e.data))})).catch((function(e){console.log(e)}))},b=function(e){K.getStockPrice(e).then((function(a){var c=a.data[0];c?(k(!1),function(e,a){var c=t.find((function(t){return t.symbol===e.toUpperCase()}));c?c.price===a.price?(l.a.toast({html:"The price of ".concat(e.toUpperCase()," has not changed")}),console.log("price is unchanged")):(c.price>a.price?console.log("price has decreased"):console.log("price has increased"),f(a,"update")):f(a,"add")}(e,c)):(k(!0),console.log("not a valid stock symbol"))})).catch((function(e){console.log(e)}))};return n.a.createElement(P.Row,{className:"searchRow"},n.a.createElement(P.Col,{className:"search center",s:12,m:8,l:6,offset:"l3 m2"},n.a.createElement(P.TextInput,{s:12,name:"ticker",id:"searchInput",placeholder:"Ticker Symbol",value:i,onChange:function(e){u(e.target.value)},onKeyPress:function(e){e.persist(),13===e.which&&b(i)}}),d?n.a.createElement("label",{className:"red-text inputLabel"},"Invalid Ticker Symbol"):n.a.createElement("label",{className:"inputLabel"},"Search by ticker symbol to get latest stock price")),n.a.createElement(P.Col,{className:"center"},n.a.createElement(P.Button,{onClick:function(){return b(i)},className:"cyan darken-4",small:!0},"Search")))}))),L=a(53),A=a(55),U=function(e){var t=e.chartData,a=t.symbol,c=t.pastStats,r=[["Time","Price"]];c.forEach((function(e){var t=[A(e.time).format("lll"),e.price];r.push(t)}));var o={hAxis:{title:"Time"},vAxis:{title:"Price"},title:"Price of ".concat(a," Over Time"),legend:{position:"bottom"}};return n.a.createElement(L.a,{chartType:"LineChart",data:r,options:o,width:"80%",height:"200px"})},B=(a(133),function(e){var t=e.stockTrend;return t>0?n.a.createElement(P.Icon,{className:"stockTrend green-text text-accent-3"},"trending_up"):0===t?n.a.createElement(P.Icon,{className:"stockTrend grey-text"},"trending_flat"):n.a.createElement(P.Icon,{className:"stockTrend red-text text-accent-3"},"trending_down")}),G=(a(134),Object(p.b)(null,{removeStock:function(e){return function(){var t=Object(w.a)(_.a.mark((function t(a){var c,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.removeStock(e);case 3:return c=t.sent,t.next=6,c.data._id;case 6:n=t.sent,a({type:"REMOVE_STOCK",id:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"STOCKS_ERROR",payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.stockData,a=e.removeStock;return n.a.createElement("li",{className:"stockListItem ".concat(t.current?"active":"")},n.a.createElement("div",{className:"collapsible-header active"},n.a.createElement("i",{className:"material-icons"},"show_chart"),n.a.createElement("span",{className:"stockSymbol"},t.symbol),n.a.createElement("span",{className:"stockPrice indigo-text text-darken-4 secondary-content"},"$",t.price,n.a.createElement(B,{stockTrend:t.stockTrend}))),n.a.createElement("div",{className:"collapsible-body"},n.a.createElement(P.Button,{onClick:function(){a(t._id,K)},className:"red lighten-2 removeStock right",small:!0,node:"button",waves:"light",tooltip:"Remove Stock From List",tooltipOptions:{position:"left"}},n.a.createElement(P.Icon,null,"close")),n.a.createElement(U,{chartData:t}),n.a.createElement("p",{className:"chartDisclaimer center"},"This chart is based off of values of this stock when it has been actively checked and may not be fully indicative of trends")))}))),M=(a(135),Object(p.b)((function(e){return{stock:e.stock}}),{getStocks:function(){return function(){var e=Object(w.a)(_.a.mark((function e(t){var a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.getStocks();case 3:return a=e.sent,e.next=6,a.data;case 6:c=e.sent,console.log(c),t({type:"GET_STOCKS",payload:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"STOCKS_ERROR",payload:e.t0});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.stock,a=t.stocks,r=t.loading,o=e.getStocks;return Object(c.useEffect)((function(){o()}),[]),r?n.a.createElement(P.ProgressBar,null):n.a.createElement("div",null,n.a.createElement(P.Collapsible,{accordion:!0,id:"stockList"},r||a.length?a.map((function(e){return n.a.createElement(G,{key:e._id,stockData:e})})):n.a.createElement("h4",{className:"noStocks center"},"No Stocks Yet, Search by Ticker Symbol to Get Latest Price")))}))),F=function(){return n.a.createElement(P.Navbar,{className:"cyan darken-4",alignLinks:"left",brand:n.a.createElement("span",{className:"brand-logo"},"Stockeez"),centerLogo:!0})},J=function(e){function t(){return Object(S.a)(this,t),Object(T.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(F,null),n.a.createElement(P.Container,null,n.a.createElement(I,null),n.a.createElement(M,null)))}}]),t}(c.Component),V=(a(136),function(){return Object(c.useEffect)((function(){l.a.AutoInit()})),n.a.createElement(p.a,{store:y},n.a.createElement(i.a,null,n.a.createElement(u.a,{path:"/",component:J})))});o.a.render(n.a.createElement(V,null),document.getElementById("root"))},61:function(e,t,a){e.exports=a(138)}},[[61,1,2]]]);
//# sourceMappingURL=main.02e62484.chunk.js.map