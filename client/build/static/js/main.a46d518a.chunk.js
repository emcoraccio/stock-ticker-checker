(this["webpackJsonpticker-checker"]=this["webpackJsonpticker-checker"]||[]).push([[0],{131:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),o=a.n(r),s=(a(35),a(24)),l=a.n(s),i=a(56),u=a(15),m=a(14),p=a(13),d=a(48),k=a(49),f=a(58),b=a(11),h={stocks:[],loading:!0,error:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STOCKS":return Object(b.a)({},e,{stocks:t.payload.map((function(e){var t=0,a=e.pastStats.length-2;return a>=0&&(t=e.price-e.pastStats[a].price),Object(b.a)({},e,{stockTrend:t})})),loading:!1});case"STOCKS_ERROR":return Object(b.a)({},e,{error:t.payload});case"ADD_STOCK":return Object(b.a)({},e,{stocks:[Object(b.a)({},t.payload,{stockTrend:0,current:!0})].concat(Object(f.a)(e.stocks))});case"UPDATE_STOCK":return Object(b.a)({},e,{stocks:e.stocks.map((function(e){var a=t.payload.price-e.price;return console.log(a),e.symbol===t.payload.symbol?Object(b.a)({},e,{price:t.payload.price,current:!0,stockTrend:a}):Object(b.a)({},e,{current:!1})}))});case"REMOVE_STOCK":return Object(b.a)({},e,{stocks:e.stocks.filter((function(e){if(e._id!==t.id)return e}))});default:return e}},S=Object(p.combineReducers)({stock:E}),v=[k.a],y=Object(p.createStore)(S,{},Object(d.composeWithDevTools)(p.applyMiddleware.apply(void 0,v))),O=a(50),g=a(51),T=a(59),j=a(52),C=a(60),x=a(33),N=a(19),_=a.n(N),w=a(30),R=a(20),K=a.n(R),D={getStockPrice:function(e){return K.a.get("https://api.iextrading.com/1.0/tops/last?symbols=".concat(e))},getStocks:function(){return K.a.get("api/stocks")},addStock:function(e){return K.a.post("api/stocks",e)},removeStock:function(e){return K.a.put("api/stocks/".concat(e))}},P=a(4),I=(a(131),Object(m.b)((function(e){return{stock:e.stock}}),{addStock:function(e){return{type:"ADD_STOCK",payload:e}},updateStock:function(e){return{type:"UPDATE_STOCK",payload:e}}})((function(e){var t=e.stock.stocks,a=e.addStock,r=e.updateStock,o=Object(n.useState)(""),s=Object(x.a)(o,2),i=s[0],u=s[1],m=Object(n.useState)(!1),p=Object(x.a)(m,2),d=p[0],k=p[1],f=function(e,t){D.addStock(e).then((function(e){u(""),"add"===t?a(e.data):r(e.data)})).catch((function(e){console.log(e)}))},b=function(e){D.getStockPrice(e).then((function(a){var n=a.data[0];n?(k(!1),function(e,a){var n=t.find((function(t){return t.symbol===e.toUpperCase()}));n?n.price===a.price?l.a.toast({html:"The price of ".concat(e.toUpperCase()," has not changed")}):f(a,"update"):f(a,"add")}(e,n)):k(!0)})).catch((function(e){console.log(e)}))};return c.a.createElement(P.Row,{className:"searchRow"},c.a.createElement(P.Col,{className:"search center",s:12,m:8,l:6,offset:"l3 m2"},c.a.createElement(P.TextInput,{s:12,name:"ticker",id:"searchInput",placeholder:"Ticker Symbol",value:i,onChange:function(e){u(e.target.value)},onKeyPress:function(e){e.persist(),13===e.which&&b(i)}}),d?c.a.createElement("label",{className:"red-text inputLabel"},"Invalid Ticker Symbol"):c.a.createElement("label",{className:"inputLabel"},"Search by ticker symbol to get latest stock price")),c.a.createElement(P.Col,{className:"center"},c.a.createElement(P.Button,{onClick:function(){return b(i)},className:"cyan darken-4",small:!0},"Search")))}))),L=a(53),A=a(55),B=function(e){var t=e.chartData,a=t.symbol,n=t.pastStats,r=[["Time","Price"]];n.forEach((function(e){var t=[A(e.time).format("lll"),e.price];r.push(t)}));var o={hAxis:{title:"Time"},vAxis:{title:"Price"},title:"Price of ".concat(a," Over Time"),legend:{position:"bottom"}};return c.a.createElement(L.a,{chartType:"LineChart",data:r,options:o,width:"80%",height:"200px"})},U=(a(133),function(e){var t=e.stockTrend;return t>0?c.a.createElement(P.Icon,{className:"stockTrend green-text text-accent-3"},"trending_up"):0===t?c.a.createElement(P.Icon,{className:"stockTrend grey-text"},"trending_flat"):c.a.createElement(P.Icon,{className:"stockTrend red-text text-accent-3"},"trending_down")}),G=(a(134),Object(m.b)(null,{removeStock:function(e){return function(){var t=Object(w.a)(_.a.mark((function t(a){var n,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.removeStock(e);case 3:return n=t.sent,t.next=6,n.data._id;case 6:c=t.sent,a({type:"REMOVE_STOCK",id:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"STOCKS_ERROR",payload:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.stockData,a=e.removeStock;return c.a.createElement("li",{className:"stockListItem ".concat(t.current?"active":"")},c.a.createElement("div",{className:"collapsible-header active"},c.a.createElement("i",{className:"material-icons"},"show_chart"),c.a.createElement("span",{className:"stockSymbol"},t.symbol),c.a.createElement("span",{className:"stockPrice indigo-text text-darken-4 secondary-content"},"$",t.price,c.a.createElement(U,{stockTrend:t.stockTrend}))),c.a.createElement("div",{className:"collapsible-body"},c.a.createElement(P.Button,{onClick:function(){a(t._id,D)},className:"red lighten-2 removeStock right",small:!0,node:"button",waves:"light",tooltip:"Remove Stock From List",tooltipOptions:{position:"left"}},c.a.createElement(P.Icon,null,"close")),c.a.createElement(B,{chartData:t}),c.a.createElement("p",{className:"chartDisclaimer center"},"This chart is based off of values of this stock when it has been actively checked and may not be fully indicative of trends")))}))),M=(a(135),Object(m.b)((function(e){return{stock:e.stock}}),{getStocks:function(){return function(){var e=Object(w.a)(_.a.mark((function e(t){var a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.getStocks();case 3:return a=e.sent,e.next=6,a.data;case 6:n=e.sent,console.log(n),t({type:"GET_STOCKS",payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"STOCKS_ERROR",payload:e.t0});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.stock,a=t.stocks,r=t.loading,o=e.getStocks;return Object(n.useEffect)((function(){o()}),[]),r?c.a.createElement(P.ProgressBar,null):c.a.createElement("div",null,c.a.createElement(P.Collapsible,{accordion:!0,id:"stockList"},r||a.length?a.map((function(e){return c.a.createElement(G,{key:e._id,stockData:e})})):c.a.createElement("h4",{className:"noStocks center"},"No Stocks Yet, Search by Ticker Symbol to Get Latest Price")))}))),F=function(){return c.a.createElement(P.Navbar,{className:"cyan darken-4",alignLinks:"left",brand:c.a.createElement("span",{className:"brand-logo"},"STOCKEEZ"),centerLogo:!0})},J=function(e){function t(){return Object(O.a)(this,t),Object(T.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(P.Container,null,c.a.createElement(I,null),c.a.createElement(M,null)))}}]),t}(n.Component),V=(a(136),function(){return Object(n.useEffect)((function(){l.a.AutoInit()})),c.a.createElement(m.a,{store:y},c.a.createElement(F,null),c.a.createElement(i.a,null,c.a.createElement(u.a,{path:"/",component:J})))});o.a.render(c.a.createElement(V,null),document.getElementById("root"))},61:function(e,t,a){e.exports=a(138)}},[[61,1,2]]]);
//# sourceMappingURL=main.a46d518a.chunk.js.map